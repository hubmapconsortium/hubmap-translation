settings:
  index:
    mapping.total_fields.limit: 5000
    query.default_field: 2048

mappings:
  date_detection: False
  numeric_detection: False
  dynamic_templates:
    -
      map_every_float:
        path_match: "*.z_rotation"
        mapping:
          type: "float"
    -
      map_every_long:
        match_pattern: regex
        path_match: "((.*?)Dataset$)|
              ((.*?)Donor$)|
              ((.*?)Sample$)|
              ((.*?)create_timestamp$)|
              ((.*?)last_modified_timestamp$)|
              ((.*?)age$)|
              ((.*?)bmi$)|
              ((.*?)size$)"
        mapping:
          type: "long"
    - map_every_boolean:
        match_pattern: regex
        path_match: "((.*?)contains_human_genetic_sequences$)|
                  ((.*?)_from_metadatatsv$)|
                  ((.*?)is_qa_qc$)|
                  ((.*?)has_metadata$)"
        mapping:
          type: "boolean"
    -
      map_every_string:
        match_mapping_type: string
        mapping:
          copy_to: all_text
          type: text
          fields:
            # This emulates the default ES behavior,
            # giving us a "keyword" subfield,
            # with a "keyword" type.
            keyword:
              type: keyword
